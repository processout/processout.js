<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <title>ProcessOut.js Native APM</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div id="apm-container"></div>
<script src="../../dist/processout.js" crossorigin="anonymous"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // You need to replace these values with your own
    const projectId = "test-proj_2yMu3kr1Xx75RtW1aI4bJTQzu32gxWiV"
    const gatewayConfigurationId = "gway_conf_za0aimeivu1j4o82nn6zfvdjsnjgh8re.sandbox"
    const invoiceId = "iv_Sp4baVddEHobprI8vqK45qRzFVvy5LKQ"

    const client = new ProcessOut.ProcessOut(projectId)
    const el = document.querySelector('#apm-container')

    const apm = client.createTokenizationFlow(el, {
      gatewayConfigurationId,
      invoiceId,
    })

    apm.on('critical-failure', ({ message }) => {
      console.log('apm', message)
    })

    apm.initialise();
  })
</script>
</body>
</html>
