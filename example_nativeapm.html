<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>ProcessOut Native APM Example Page</title>
  <style>
    body {
      width: 100%;
      font-family: 'Arial';
      display: flex;
      justify-content: center;
    }

    h1 {
      margin-bottom: 50px;
    }

    #napm-container {
      width: 400px;
    }
  </style>
</head>

<body>
  <div id="napm-container"></div>
  <script src="https://js.processout.com/processout.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // here you need to enter your data to test Native APM
      var projectId = ''
      var gatewayConfigurationId = ''
      var invoiceId = ' '

      var client = new ProcessOut.ProcessOut(projectId);

      var nativeApm = client.setupNativeApm({
        gatewayConfigurationId,
        invoiceId
      });

      nativeApm.mount('#napm-container');

      // You can customize the widget theme
      // nativeApm.setTheme({
      //   buttons: {
      //     default: {
      //       backgroundColor: 'green'
      //     }
      //   }
      // });

      // You can prefill user data
      // nativeApm.prefillData({
      //   email: 'john@doe.com'
      // })

      // Native APM widget dispatches event on every major action. Here are event handlers to test them
      window.addEventListener('processout_native_apm_loading', () => {
        console.log('Payment Status (outside widget): Widget loading');
      })

      window.addEventListener('processout_native_apm_ready', () => {
        console.log('Payment Status (outside widget): Widget ready')
      })

      window.addEventListener('processout_native_apm_payment_init', () => {
        console.log('Payment Status (outside widget): Payment initialized')
      })

      window.addEventListener('processout_native_apm_payment_additional_input', () => {
        console.log('Payment Status (outside widget): Additional input needed')
      })

      window.addEventListener('processout_native_apm_payment_success', () => {
        console.log('Payment Status (outside widget): Payment success')
      })

      window.addEventListener('processout_native_apm_payment_error', (e) => {
        console.log('Payment Status (outside widget): Payment error')
      })

      window.addEventListener('processout_native_apm_gateway_configuration_error', (e) => {
        console.log('Payment Status (outside widget): Gateway configuration error')
      })
    });
  </script>
</body>

</html>